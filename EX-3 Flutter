import 'package:flutter/material.dart';

void main() {
  runApp(const StudentApp());
}

class StudentApp extends StatelessWidget {
  const StudentApp({super.key});

  @override
  Widget build(BuildContext context) {
    return const MaterialApp(
      debugShowCheckedModeBanner: false,
      home: StudentHome(),
    );
  }
}

/* ---------------- STUDENT MODEL ---------------- */
class Student {
  String name;
  String rollNo;

  Student(this.name, this.rollNo);
}

/* ---------------- HOME SCREEN ---------------- */
class StudentHome extends StatefulWidget {
  const StudentHome({super.key});

  @override
  State<StudentHome> createState() => _StudentHomeState();
}

class _StudentHomeState extends State<StudentHome> {
  List<Student> students = [];

  final TextEditingController nameController = TextEditingController();
  final TextEditingController rollController = TextEditingController();



void addStudent() {
    if (nameController.text.isNotEmpty &&
        rollController.text.isNotEmpty) {
      setState(() {
        students.add(
          Student(nameController.text, rollController.text),
        );
        nameController.clear();
        rollController.clear();
      });
    }
  }

  void deleteStudent(int index) {
    setState(() {
      students.removeAt(index);
    });
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(title: const Text("Student Record Manager")),
      body: Padding(
        padding: const EdgeInsets.all(16),
        child: Column(
          children: [
            TextField(
              controller: nameController,
              decoration: const InputDecoration(
                labelText: "Student Name",
                border: OutlineInputBorder(),
              ),
            ),
            const SizedBox(height: 10),
            TextField(
              controller: rollController,
              decoration: const InputDecoration(
                labelText: "Roll Number",
                border: OutlineInputBorder(),
              ),
            ),


 const SizedBox(height: 10),
            ElevatedButton(
              onPressed: addStudent,
              child: const Text("Add Student"),
            ),
            const SizedBox(height: 20),
            Expanded(
              child: students.isEmpty
                  ? const Center(child: Text("No records found"))
                  : ListView.builder(
                      itemCount: students.length,
                      itemBuilder: (context, index) {
                        return Card(
                          child: ListTile(
                            title: Text(students[index].name),
                            subtitle:
                                Text("Roll No: ${students[index].rollNo}"),
                            trailing: IconButton(
                              icon: const Icon(Icons.delete, color: Colors.red),
                              onPressed: () => deleteStudent(index),
                            ),
                          ),
                        );
                      },
                    ),
            ),
          ],
        ),
      ),
    );
  }
}
